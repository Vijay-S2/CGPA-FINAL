<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSEC CGPA Calculator</title>
    <style>
        /* --- General Reset & Variables --- */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        :root { 
            --primary: #2563eb; /* Blue */
            --primary-hover: #1d4ed8;
            --dark: #1e293b; /* Dark Slate */
            --light-bg: #f8fafc; /* Light Gray */
            --card-bg: white;
            --text-color: #334155;
            --success: #52c41a;
            --warning: #faad14;
            --danger: #f5222d;
        }
        body { background: var(--light-bg); color: var(--text-color); line-height: 1.6; }

        /* --- Header & Navigation --- */
        .header { 
            background: var(--dark); 
            padding: 1rem 2rem; 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .header h1 { color: white; font-size: 1.8rem; }
        .nav ul { display: flex; gap: 1.5rem; list-style: none; }
        .nav li { color: #cbd5e1; cursor: pointer; transition: color 0.3s; }
        .nav li:hover { color: white; }
        
        /* --- Side Menu (Mobile) --- */
        .sidemenu { cursor: pointer; display: none; }
        .sidenav {
            position: fixed;
            top: 0;
            right: -300px;
            width: 280px;
            height: 100vh;
            background: var(--dark);
            transition: right 0.4s ease;
            z-index: 1000;
            padding: 2rem 1rem;
            display: flex; 
            flex-direction: column;
            justify-content: space-between;
        }
        .sidenav-content { margin-top: 2rem; } 
        .sidenav ul { list-style: none; padding-left: 0; }
        .sidenav li { padding: 0.8rem; color: #cbd5e1; cursor: pointer; border-bottom: 1px solid #334155; }
        .sidenav li:hover { background: #334155; }
        .close-btn { cursor: pointer; text-align: right; color: white; font-size: 1.5rem; }

        /* --- Main Content Layout --- */
        .main-content {
            padding: 0 2rem;
        }
        
        /* --- Centered About Page Style --- */
        #aboutPage {
            position: relative;
            max-width: 700px;
            margin: 4rem auto;
            padding: 3rem;
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            text-align: center;
            border-top: 5px solid var(--primary);
            display: none;
        }
        .about-close-icon {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.8rem;
            color: var(--text-color);
            cursor: pointer;
            transition: color 0.2s;
        }
        .about-close-icon:hover {
            color: var(--danger);
        }

        #aboutPage h2 {
            color: var(--dark);
            font-size: 2.2rem;
            margin-bottom: 1.5rem;
        }
        #aboutPage h3 {
            color: var(--primary);
            margin-top: 2rem;
            margin-bottom: 0.5rem;
            font-size: 1.5rem;
        }
        #aboutPage p {
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }
        .developer-info-about {
            margin-top: 2rem;
            padding: 1.5rem;
            background: var(--light-bg);
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }
        .developer-info-about img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-bottom: 10px;
            border: 3px solid var(--primary);
            background: #cbd5e1; 
        }
        .developer-info-about strong {
            display: block;
            font-size: 1.3rem;
            color: var(--dark);
        }
        .developer-info-about span {
            color: var(--text-color);
            font-size: 1rem;
        }
        /* --- Home Page Content Styles --- */
        .welcome-section {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            text-align: center;
        }
        .welcome-section h2 {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        .welcome-section p {
            font-size: 1.1rem;
            color: var(--text-color);
            margin-bottom: 1.5rem;
        }

        /* --- Input & Control Section --- */
        .input-container { 
            padding: 2rem; 
            text-align: center; 
            max-width: 600px; 
            margin: 2rem auto;
            background: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        .input-container h2 { margin-bottom: 1.5rem; color: var(--dark); }
        .sem-input { display: flex; gap: 1rem; justify-content: center; align-items: center; }
        #sem-count { 
            padding: 0.8rem; 
            width: 120px; 
            border: 2px solid #e2e8f0; 
            border-radius: 8px;
            font-size: 1rem;
            text-align: center;
        }
        #sem-count:focus { border-color: var(--primary); outline: none; }
        .btn { 
            background: var(--primary); 
            color: white; 
            border: none; 
            padding: 0.8rem 1.5rem; 
            border-radius: 8px; 
            cursor: pointer;
            font-weight: 600;
            transition: background 0.3s;
        }
        .btn:hover { background: var(--primary-hover); }

        /* --- Semester Forms --- */
        .sem-container { 
            display: none; 
            flex-wrap: wrap; 
            gap: 2rem; 
            padding: 2rem; 
            justify-content: center;
            max-width: 1400px;
            margin: 0 auto;
        }
        .semester { 
            background: var(--card-bg); 
            padding: 1.5rem; 
            border-radius: 10px; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            width: 100%;
            max-width: 500px;
        }
        .semester h2 { margin-bottom: 1rem; color: var(--dark); text-align: center; }
        
        /* Tables */
        table { width: 100%; border-collapse: collapse; }
        th { background: #f1f5f9; text-align: left; padding: 0.8rem; }
        td { padding: 0.6rem; border-bottom: 1px solid #e2e8f0; }
        select { 
            width: 100%; 
            padding: 0.5rem; 
            border: 1px solid #cbd5e1; 
            border-radius: 4px;
            background: white;
            min-width: 70px;
        }

        /* --- Results Section --- */
        .result-container { 
            padding: 2rem; 
            text-align: center; 
            margin: 2rem auto;
            max-width: 600px;
            background: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-top: 5px solid var(--primary);
            display: none;
        }
        
        /* --- Footer --- */
        .footer { 
            text-align: center; 
            padding: 1.5rem; 
            color: #64748b; 
            margin-top: 2rem;
            border-top: 1px solid #e2e8f0;
        }

        /* --- Media Queries --- */
        @media (max-width: 768px) {
            .nav { display: none; }
            .sidemenu { display: block; }
            .sem-input { flex-direction: column; align-items: center; }
            .semester { padding: 1rem; }
            #aboutPage {
                margin: 2rem 1rem;
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>DSEC</h1>
        <div class="nav">
            <ul>
                <li onclick="showCalculator()">Home</li>
                <li onclick="showAboutPage()">About Us</li>
                <li>Contact</li>
            </ul>
        </div>
        <div class="sidemenu" onclick="openMenu()">
            <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PHBhdGggZD0iTTMgMTJMMThtMC00SDNNMyAxNmgxOCIvPjwvc3ZnPg==" alt="Menu" width="24">
        </div>
    </div>
    
    <div class="sidenav" id="sideNav">
        <div>
            <div class="close-btn" onclick="closeMenu()">✕</div>
            <div class="sidenav-content">
                <ul>
                    <li onclick="showCalculator(); closeMenu();">Home</li>
                    <li onclick="showAboutPage(); closeMenu();">About Us</li>
                    <li>Contact</li>
                </ul>
            </div>
        </div>
    </div>
    
    <div class="main-content" id="mainContent">
        
        <div id="aboutPage">
            <span class="about-close-icon" onclick="showCalculator()" title="Go to Calculator">✕</span>
            
            <h2>About The DSEC CGPA Calculator</h2>
            <p>This is a dedicated tool developed to simplify the process of calculating the Cumulative Grade Point Average (CGPA) for **DSEC students**.</p>
            <p style="font-style: italic; margin-top: 1rem;">The calculator allows you to input credits and grades for up to 8 semesters and instantly determine your current CGPA based on the standard university grading scheme. Please always verify the final official results with the college records.</p>
            
            <h3>Development Details</h3>
            <div class="developer-info-about">
                <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MCIgaGVpZ2h0PSI5MCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiMxZDRlZDgiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0xMiAyQzYgMiAyIDYgMiAxMnM0IDEwIDEwIDEwYzEuMDkzIDAgMi4xMzMtLjE1NyAzLjEzOC0uNDQ3TDIwIDE3bC0uOTYzLTIuMTg3Yy0uMTQ0LS4zMjYtLjIyMy0uNjktLjIyMy0xLjA2M3YtMS42N2MwLS40MDUtLjAyMy0uODE1LS4wNjktMS4yMTItLjEyLS45OTQtLjQ3My0xLjk2Ni0xLjA3OS0yLjc0LS42MDYtLjc3NC0xLjM5LTEuMzkyLTIuMTg0LTEuNzg0LTIuMjc0LS44NzItNS40OTItLjkwOC01LjQ1My0uMDA4IDAgMCAwIDAgMCAwaC0uMDAzYy4wMy45LjA4MSAxLjc3NC4xNjQgMi42MTQuMTIyIDEuMjA5LjIwNyAyLjQzLjE0NyAzLjY2NS0uMjcgMi40NTgtMi4wNjUgNC40NzItNC42MiA0Ljk1OC0uMTI0LjAyNC0uMjQ4LjA1LS4zNzMuMDctLjE1MS4wMjQtLjMwMi4wNTQtLjQ1NC4wNzgCMy44MSAxMi45MTMgMyAxMi4xNTQgMyAxMmE5IDkgMCAwIDEtMy03YzAtLjUgNC0yLjI1IDYtMy41djEtLjVIMTIiLz48cGF0aCBkPSJNOSAxN2MxLjU2MiAzLjcyMiA2LjQ0OCA0LjU1OSA4IDJoLTJjLS45NDctLjY3Mi0yLjc1LTEuMjgtNC0uMDQtMS4zNC45MTMtMi42OTQuOTczLTQgLjE3NCAwIDAtLjM4LTIuMi01LjUtMi4yWiIvPjxwYXRoIGQ9Ik0xOC40NDIgMTIuNDRjMS42OTktLjg5MyAyLjU1OC0zLjE1OCAxLjg1MS00Ljk0NmwtLjcyNy0xLjYxN2MtLjQxNy0xLjA1LS42NjgtMi4xMzctLjc4NC0zLjIxQzE4LjQgNC44OCAxOC43MSAyIDExIDJjLjk2IDAgMS45MDMuMTEgMi44MTEuMzNMMTEuNjQgMy42QzguNDQ3IDQuMjY2IDUuMzExIDcuNzMyIDYuMjIgMTIuNDdjLjM0IDEuNzY0IDEuMDM5IDMuMzg3IDEuODQgNC42Nmw1LjMyIDEuNzQ4Ii8+PC9zdmc+" alt="Developer Icon">
                <p>Developed by</p>
                <strong>Vijay S</strong>
                <span>Student of DSEC</span>
            </div>
        </div>

        <div id="calculatorContent">
            <div class="welcome-section">
                <h2>Welcome to the DSEC CGPA Calculator</h2>
                <p>Quickly and accurately estimate your cumulative Grade Point Average across multiple semesters. This tool is designed specifically for **DSEC students** to track their academic progress based on the university's grading system.</p>
                <p style="font-style: italic; color: var(--primary);">Start by entering the number of semesters you wish to calculate!</p>
            </div>
            
            <div class="input-container">
                <h2>Calculate Your CGPA</h2>
                <div class="sem-input">
                    <input type="number" id="sem-count" min="1" max="8" placeholder="Enter 1-8" value="" onchange="showSemesters()">
                    <button class="btn" onclick="showSemesters()">Generate Semesters</button>
                </div>
            </div>
            
            <div class="sem-container" id="semContainer">
                </div>
            
            <div id="final-calc-section"></div>

            <div class="result-container" id="resultContainer">
                </div>
        </div>
    </div>
    
    <div class="footer">
        <p>© 2025 DSEC CGPA Calculator | Developed for Educational Purposes</p>
    </div>
    
    <script>
        // --- DOM Elements ---
        const semCountInput = document.getElementById('sem-count');
        const semContainer = document.getElementById('semContainer');
        const resultContainer = document.getElementById('resultContainer');
        const sideNav = document.getElementById('sideNav');
        const aboutPage = document.getElementById('aboutPage');
        const calculatorContent = document.getElementById('calculatorContent');

        // --- Data Storage ---
        let semesterResults = {}; 

        // --- View Management Functions ---
        function hideAllContent() {
            aboutPage.style.display = 'none';
            calculatorContent.style.display = 'none';
        }

        function showCalculator() {
            hideAllContent();
            calculatorContent.style.display = 'block';
            // Ensure necessary sub-containers are visible if they were active
            const finalCalcSection = document.getElementById('final-calc-section');
            if (semContainer.children.length > 0) {
                 semContainer.style.display = 'flex';
                 if (finalCalcSection) finalCalcSection.style.display = 'block';
            } else {
                 semContainer.style.display = 'none';
                 if (finalCalcSection) finalCalcSection.style.display = 'none';
            }
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function showAboutPage() {
            hideAllContent();
            aboutPage.style.display = 'block';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // --- Helper Functions ---

        function createOptions(values) {
            return values.map(v => `<option value="${v}">${v}</option>`).join('');
        }

        function createGradeOptions() {
            const grades = [
                {value: 0, label: '-None-'},
                {value: 10, label: 'O'},
                {value: 9, label: 'A+'},
                {value: 8, label: 'A'},
                {value: 7, label: 'B+'},
                {value: 6, label: 'B'},
                {value: 5, label: 'C'}
            ];
            return grades.map(g => `<option value="${g.value}">${g.label}</option>`).join('');
        }

        // --- Semester Template Generator ---

        function createSemesterTemplate(semNum) {
            return `
            <div class="semester" id="sem${semNum}">
                <h2>Semester ${semNum}</h2>
                <table>
                    <tr><th>Subject</th><th>Credits</th><th>Grade</th></tr>
                    ${Array.from({length: 10}, (_, i) => `
                    <tr>
                        <td>Subject ${i+1}</td>
                        <td>
                            <select id="sem${semNum}credit${i+1}">
                                ${createOptions([0,1,2,3,4])}
                            </select>
                        </td>
                        <td>
                            <select id="sem${semNum}grade${i+1}">
                                ${createGradeOptions()}
                            </select>
                        </td>
                    </tr>`).join('')}
                </table>
                <div style="text-align:center;padding-top:1rem;">
                    <button class="btn" style="background:var(--success);" onclick="calculateSemester(${semNum})">Update Sem ${semNum} GPA</button>
                </div>
                <h4 id="sem${semNum}gpaResult" style="text-align:center; margin-top: 10px; color: var(--primary);"></h4>
            </div>`;
        }

        // --- Calculation Functions ---

        function showSemesters() {
            const count = parseInt(semCountInput.value);
            if (!count || count < 1 || count > 8) {
                alert('Please enter a valid number between 1-8');
                return;
            }
            
            showCalculator(); // Ensure calculator view is active
            
            semContainer.innerHTML = '';
            semesterResults = {}; 
            for (let i = 1; i <= count; i++) {
                semContainer.innerHTML += createSemesterTemplate(i);
                semesterResults[i] = { totalCredits: 0, totalPoints: 0, gpa: 0 };
            }
            
            semContainer.style.display = 'flex';
            resultContainer.style.display = 'none';
            
            const finalCalcButtonSection = document.getElementById('final-calc-section');
            finalCalcButtonSection.innerHTML = `<div class="input-container" style="max-width: 900px; margin-top: 0;"><button class="btn" onclick="calculateCGPA()">Calculate Final CGPA</button></div>`;
            finalCalcButtonSection.style.display = 'block';

            window.scrollTo({ top: semContainer.offsetTop - 50, behavior: 'smooth' });
        }

        function calculateSemester(semNum) {
            let totalCredits = 0;
            let totalPoints = 0;
            
            for (let i = 1; i <= 10; i++) {
                const credit = parseInt(document.getElementById(`sem${semNum}credit${i}`)?.value) || 0;
                const grade = parseInt(document.getElementById(`sem${semNum}grade${i}`)?.value) || 0;
                
                if (credit > 0 && grade > 0) {
                    totalCredits += credit;
                    totalPoints += credit * grade;
                }
            }
            
            const sgpa = totalCredits > 0 ? (totalPoints / totalCredits).toFixed(2) : '0.00';
            const sgpaFloat = parseFloat(sgpa);
            
            semesterResults[semNum] = { totalCredits, totalPoints, gpa: sgpaFloat };

            const resultElement = document.getElementById(`sem${semNum}gpaResult`);
            resultElement.innerHTML = `**GPA: ${sgpa}** (${totalCredits} credits)`;
            resultElement.style.color = sgpaFloat >= 8.0 ? 'var(--success)' : (sgpaFloat >= 6.0 ? 'var(--warning)' : 'var(--danger)');
            
            return { totalCredits, totalPoints };
        }

        function calculateCGPA() {
            let cumulativeCredits = 0;
            let cumulativePoints = 0;
            const numSemesters = parseInt(semCountInput.value) || 0;
            
            if (numSemesters === 0) {
                 alert('Please generate semesters first.');
                 return;
            }

            for(let semNum = 1; semNum <= numSemesters; semNum++) {
                const { totalCredits, totalPoints } = calculateSemester(semNum); 
                cumulativeCredits += totalCredits;
                cumulativePoints += totalPoints;
            }
            
            const cgpa = cumulativeCredits > 0 ? (cumulativePoints / cumulativeCredits).toFixed(2) : '0.00';
            const cgpaFloat = parseFloat(cgpa);
            
            // --- Display Results ---
            let resultHTML = `
                <h2>Final CGPA Result</h2>
                <p style="margin-bottom: 20px;">Detailed breakdown of all ${numSemesters} semesters.</p>
                <table style="width: 100%; max-width: 400px; margin: 20px auto; text-align: left;">
                    <tr style="background: #f1f5f9;"><th>Semester</th><th>GPA</th><th>Credits</th></tr>
            `;

            for(let semNum = 1; semNum <= numSemesters; semNum++) {
                const result = semesterResults[semNum];
                const gpaValue = result.gpa;
                const color = gpaValue >= 8.0 ? 'var(--success)' : (gpaValue >= 6.0 ? 'var(--warning)' : 'var(--danger)');
                resultHTML += `
                    <tr>
                        <td>Semester ${semNum}</td>
                        <td style="font-weight: bold; color: ${color};">${gpaValue.toFixed(2)}</td>
                        <td>${result.totalCredits}</td>
                    </tr>
                `;
            }

            resultHTML += `
                <tr style="font-weight: bold; border-top: 2px solid var(--dark);">
                    <td>TOTAL</td>
                    <td>-</td>
                    <td>${cumulativeCredits}</td>
                </tr>
            `;
            resultHTML += `</table>`;
            
            resultHTML += `
                <h3 style="margin-top: 20px; font-size: 1.5rem;">Your Final Cumulative CGPA:</h3>
                <div class="cgpa-display" id="cgpaDisplayFinal" style="font-size: 3rem; font-weight: bold; color: ${cgpaFloat >= 8.0 ? 'var(--success)' : (cgpaFloat >= 6.0 ? 'var(--warning)' : 'var(--danger)')};">${cgpa}</div>
                <button class="btn" style="background: var(--danger);" onclick="resetCalculator()">Start Over</button>
            `;

            resultContainer.innerHTML = resultHTML;
            resultContainer.style.display = 'block';
            
            window.scrollTo({ top: resultContainer.offsetTop - 50, behavior: 'smooth' });
        }

        function resetCalculator() {
            semCountInput.value = '';
            semContainer.innerHTML = '';
            resultContainer.innerHTML = '';
            resultContainer.style.display = 'none';
            semesterResults = {};
            
            const finalCalcButtonSection = document.getElementById('final-calc-section');
            if(finalCalcButtonSection) finalCalcButtonSection.style.display = 'none';
            
            showCalculator(); // Show the calculator input section after reset
        }

        function openMenu() {
            sideNav.style.right = '0';
        }

        function closeMenu() {
            sideNav.style.right = '-300px'; 
        }

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            // Set the default view to the calculator on load
            showCalculator();
            
            window.showSemesters = showSemesters;
            window.calculateSemester = calculateSemester;
            window.calculateCGPA = calculateCGPA;
            window.resetCalculator = resetCalculator;
            window.openMenu = openMenu;
            window.closeMenu = closeMenu;
            window.showCalculator = showCalculator; // Expose global functions
            window.showAboutPage = showAboutPage;
        });
    </script>
</body>

</html>
